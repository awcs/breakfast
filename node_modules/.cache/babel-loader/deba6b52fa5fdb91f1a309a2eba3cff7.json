{"ast":null,"code":"var _this = this;\n\nimport axios from 'axios';\nimport { toastr } from 'react-redux-toastr';\nimport underscore from 'underscore';\nvar apiUrl = 'http://localhost:6999/users';\nvar apiSendUsersUrl = 'http://localhost:6999/send';\nvar toastrOptions = {\n  timeOut: 3000,\n  onCloseButtonClick: function onCloseButtonClick() {\n    return console.log('Close button was clicked');\n  },\n  showCloseButton: false\n};\nexport var ADD_WINNERS_BY_WEEK = 'winners: addWinnersByWeekAction';\nexport var MAIL_WINNERS = 'winners: mailWinnersAction';\nexport var addWinnersByWeekAction = function addWinnersByWeekAction() {\n  console.log('addWinnersByWeekAction');\n  var sampled = underscore.sample(_this.props.users, 3);\n  return function (dispatch) {}; //   return {\n  //       type: ADD_WINNERS_BY_WEEK ,\n  //       payload: {\n  //         //   users: users\n  //       }\n  //   }\n  // toastr.success('Confirmation', 'Un mail a bien été envoyé aux 3 participants', toastrOptions)\n}; //Action to send mail to 3 winners\n\nexport var mailWinnersAction = function mailWinnersAction(data) {\n  return function (dispatch) {\n    return axios.post(apiSendUsersUrl, data).then(function (response) {\n      dispatch(mailWinners(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var mailWinners = function mailWinners(data) {\n  return {\n    type: MAIL_WINNERS,\n    payload: {\n      email: data.email\n    }\n  };\n};","map":{"version":3,"sources":["/home/emleb/Projets perso/Breakfast/src/Actions/winnerActions.js"],"names":["axios","toastr","underscore","apiUrl","apiSendUsersUrl","toastrOptions","timeOut","onCloseButtonClick","console","log","showCloseButton","ADD_WINNERS_BY_WEEK","MAIL_WINNERS","addWinnersByWeekAction","sampled","sample","props","users","dispatch","mailWinnersAction","data","post","then","response","mailWinners","catch","error","type","payload","email"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,oBAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,IAAMC,MAAM,GAAG,6BAAf;AACA,IAAMC,eAAe,GAAG,4BAAxB;AAEA,IAAMC,aAAa,GAAG;AAClBC,EAAAA,OAAO,EAAE,IADS;AAElBC,EAAAA,kBAAkB,EAAE;AAAA,WAAMC,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAN;AAAA,GAFF;AAGlBC,EAAAA,eAAe,EAAE;AAHC,CAAtB;AAOA,OAAO,IAAMC,mBAAmB,GAAG,iCAA5B;AACP,OAAO,IAAMC,YAAY,GAAG,4BAArB;AAGP,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACxCL,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACA,MAAMK,OAAO,GAAGZ,UAAU,CAACa,MAAX,CAAkB,KAAI,CAACC,KAAL,CAAWC,KAA7B,EAAoC,CAApC,CAAhB;AACA,SAAO,UAACC,QAAD,EAAc,CACpB,CADD,CAHwC,CAKxC;AACA;AACA;AAEA;AACA;AACA;AACA;AAED,CAdI,C,CAiBP;;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAU;AACvC,SAAO,UAACF,QAAD,EAAc;AAClB,WAAOlB,KAAK,CAACqB,IAAN,CAAWjB,eAAX,EAA4BgB,IAA5B,EACLE,IADK,CACA,UAAAC,QAAQ,EAAI;AAChBL,MAAAA,QAAQ,CAACM,WAAW,CAACD,QAAQ,CAACH,IAAV,CAAZ,CAAR;AACD,KAHK,EAILK,KAJK,CAIC,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANK,CAAP;AAOF,GARD;AASD,CAVI;AAYL,OAAO,IAAMF,WAAW,GAAI,SAAfA,WAAe,CAACJ,IAAD,EAAU;AACpC,SAAO;AACLO,IAAAA,IAAI,EAAEf,YADD;AAELgB,IAAAA,OAAO,EAAE;AACPC,MAAAA,KAAK,EAAET,IAAI,CAACS;AADL;AAFJ,GAAP;AAMD,CAPM","sourcesContent":["import axios from 'axios';\nimport {toastr} from 'react-redux-toastr'\nimport underscore from 'underscore';\n\nconst apiUrl = 'http://localhost:6999/users';\nconst apiSendUsersUrl = 'http://localhost:6999/send';\n\nconst toastrOptions = {\n    timeOut: 3000, \n    onCloseButtonClick: () => console.log('Close button was clicked'),\n    showCloseButton: false, \n  }\n   \n\nexport const ADD_WINNERS_BY_WEEK = 'winners: addWinnersByWeekAction';\nexport const MAIL_WINNERS = 'winners: mailWinnersAction';\n\n\nexport const addWinnersByWeekAction = () => {\n    console.log('addWinnersByWeekAction')\n    const sampled = underscore.sample(this.props.users, 3)\n    return (dispatch) => {\n    }\n    //   return {\n    //       type: ADD_WINNERS_BY_WEEK ,\n    //       payload: {\n\n    //         //   users: users\n    //       }\n    //   }\n    // toastr.success('Confirmation', 'Un mail a bien été envoyé aux 3 participants', toastrOptions)\n\n  }\n\n\n//Action to send mail to 3 winners\nexport const mailWinnersAction = (data) => {\n    return (dispatch) => {\n       return axios.post(apiSendUsersUrl, data) \n        .then(response => {\n          dispatch(mailWinners(response.data))\n        })\n        .catch(error => {\n          throw(error);\n        });\n    };\n  };\n  \n  export const mailWinners =  (data) => {\n    return {\n      type: MAIL_WINNERS,\n      payload: {\n        email: data.email\n      }\n    }\n  };\n  \n  "]},"metadata":{},"sourceType":"module"}