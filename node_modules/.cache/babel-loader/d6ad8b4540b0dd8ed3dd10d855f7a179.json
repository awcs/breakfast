{"ast":null,"code":"import axios from 'axios';\nvar apiUrl = 'http://localhost:6999/users';\nexport var SEND = 'app: dispatchUsersAction';\nexport var ADD_USER = 'users: addUsersAction';\nexport var DELETE_USER = 'users: deleteUserAction';\nexport var dispatchUsersAction = function dispatchUsersAction(users) {\n  console.log(users);\n  return {\n    type: SEND,\n    payload: {\n      users: users\n    }\n  };\n}; // export const dispatchUsersAction = (users) => {\n//   return {\n//     type: SEND_USERS, \n// payload: {\n//     users\n//   }\n// };\n\nexport var addUsersAction = function addUsersAction(_ref) {\n  var nom_prenom = _ref.nom_prenom,\n      email = _ref.email;\n  return function (dispatch) {\n    return axios.post(\"\".concat(apiUrl, \"/insert\"), {\n      nom_prenom: nom_prenom,\n      email: email\n    }).then(function (response) {\n      dispatch(addUserSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n};\nexport var addUserSuccess = function addUserSuccess(data) {\n  return {\n    type: ADD_USER,\n    payload: {\n      _id: data._id,\n      nom_prenom: data.nom_prenom,\n      email: data.email\n    }\n  };\n};\nexport var deleteUserSuccess = function deleteUserSuccess(data) {\n  return {\n    type: DELETE_USER,\n    payload: {\n      _id: data._id,\n      nom_prenom: data.nom_prenom,\n      email: data.email\n    }\n  };\n};\nexport var deleteUserAction = function deleteUserAction(_ref2) {\n  var nom_prenom = _ref2.nom_prenom;\n  return function (dispatch) {\n    return axios.get(\"\".concat(apiUrl, \"/delete/\").concat(nom_prenom)).then(function (response) {\n      dispatch(deleteUserSuccess(response.data));\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n}; //   axios.delete('http://localhost:6999/delete/${nom_prenom}')\n//   .then((result) {\n//     dispatch({\n//       type: DELETE-USER,  \n//       payload: result\n//     })\n//   }\n// }","map":{"version":3,"sources":["/home/emleb/Projets perso/Breakfast/src/Actions/Actions.js"],"names":["axios","apiUrl","SEND","ADD_USER","DELETE_USER","dispatchUsersAction","users","console","log","type","payload","addUsersAction","nom_prenom","email","dispatch","post","then","response","addUserSuccess","data","catch","error","_id","deleteUserSuccess","deleteUserAction","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAG,6BAAf;AAEA,OAAO,IAAMC,IAAI,GAAG,0BAAb;AACP,OAAO,IAAMC,QAAQ,GAAG,uBAAjB;AACP,OAAO,IAAMC,WAAW,GAAG,yBAApB;AAGP,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD,EAAW;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACE,SAAO;AACHG,IAAAA,IAAI,EAAEP,IADH;AAEHQ,IAAAA,OAAO,EAAE;AACLJ,MAAAA,KAAK,EAAEA;AADF;AAFN,GAAP;AAMH,CARM,C,CAUP;AACA;AACA;AACI;AACJ;AACA;AACA;;AAEA,OAAO,IAAMK,cAAc,GAAG,SAAjBA,cAAiB,OAA2B;AAAA,MAAxBC,UAAwB,QAAxBA,UAAwB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AACvD,SAAO,UAACC,QAAD,EAAc;AAClB,WAAOd,KAAK,CAACe,IAAN,WAAcd,MAAd,cAA+B;AAACW,MAAAA,UAAU,EAAVA,UAAD;AAAaC,MAAAA,KAAK,EAALA;AAAb,KAA/B,EACLG,IADK,CACA,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACI,cAAc,CAACD,QAAQ,CAACE,IAAV,CAAf,CAAR;AACD,KAHK,EAILC,KAJK,CAIC,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANK,CAAP;AAOF,GARD;AASD,CAVM;AAYP,OAAO,IAAMH,cAAc,GAAI,SAAlBA,cAAkB,CAACC,IAAD,EAAU;AACvC,SAAO;AACLV,IAAAA,IAAI,EAAEN,QADD;AAELO,IAAAA,OAAO,EAAE;AACPY,MAAAA,GAAG,EAAEH,IAAI,CAACG,GADH;AAEPV,MAAAA,UAAU,EAAEO,IAAI,CAACP,UAFV;AAGPC,MAAAA,KAAK,EAAEM,IAAI,CAACN;AAHL;AAFJ,GAAP;AAQD,CATM;AAWP,OAAO,IAAMU,iBAAiB,GAAG,SAApBA,iBAAoB,CAACJ,IAAD,EAAU;AACzC,SAAO;AACLV,IAAAA,IAAI,EAAEL,WADD;AAELM,IAAAA,OAAO,EAAE;AACPY,MAAAA,GAAG,EAAEH,IAAI,CAACG,GADH;AAEPV,MAAAA,UAAU,EAAEO,IAAI,CAACP,UAFV;AAGPC,MAAAA,KAAK,EAAEM,IAAI,CAACN;AAHL;AAFJ,GAAP;AAQD,CATM;AAWP,OAAO,IAAMW,gBAAgB,GAAG,SAAnBA,gBAAmB,QAAmB;AAAA,MAAhBZ,UAAgB,SAAhBA,UAAgB;AACjD,SAAO,UAACE,QAAD,EAAc;AACnB,WAAOd,KAAK,CAACyB,GAAN,WAAaxB,MAAb,qBAA8BW,UAA9B,GACJI,IADI,CACC,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACS,iBAAiB,CAACN,QAAQ,CAACE,IAAV,CAAlB,CAAR;AACD,KAHI,EAIJC,KAJI,CAIE,UAAAC,KAAK,EAAI;AACd,YAAMA,KAAN;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM,C,CAkBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\n\nconst apiUrl = 'http://localhost:6999/users';\n\nexport const SEND = 'app: dispatchUsersAction';\nexport const ADD_USER = 'users: addUsersAction';\nexport const DELETE_USER = 'users: deleteUserAction';\n\n\nexport const dispatchUsersAction = (users) => {\n  console.log(users)\n    return {\n        type: SEND,\n        payload: {\n            users: users\n        }\n    }\n}\n\n// export const dispatchUsersAction = (users) => {\n//   return {\n//     type: SEND_USERS, \n    // payload: {\n//     users\n//   }\n// };\n\nexport const addUsersAction = ({ nom_prenom, email }) => {\n  return (dispatch) => {\n     return axios.post(`${apiUrl}/insert`, {nom_prenom, email}) \n      .then(response => {\n        dispatch(addUserSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\nexport const addUserSuccess =  (data) => {\n  return {\n    type: ADD_USER,\n    payload: {\n      _id: data._id,\n      nom_prenom: data.nom_prenom,\n      email: data.email\n    }\n  }\n};\n\nexport const deleteUserSuccess = (data) => {\n  return {\n    type: DELETE_USER,\n    payload: {\n      _id: data._id,\n      nom_prenom: data.nom_prenom,\n      email: data.email\n    }\n  }\n}\n\nexport const deleteUserAction = ({ nom_prenom}) => {\n  return (dispatch) => {\n    return axios.get(`${apiUrl}/delete/${nom_prenom}`)\n      .then(response => {\n        dispatch(deleteUserSuccess(response.data))\n      })\n      .catch(error => {\n        throw(error);\n      });\n  };\n};\n\n\n\n\n\n\n\n//   axios.delete('http://localhost:6999/delete/${nom_prenom}')\n//   .then((result) {\n//     dispatch({\n//       type: DELETE-USER,  \n//       payload: result\n//     })\n//   }\n// }  \n\n\n"]},"metadata":{},"sourceType":"module"}